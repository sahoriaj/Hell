<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Donghua Post Creator V3</title>

<style>
*{box-sizing:border-box;}
body{
  margin:0;
  font-family:Arial;
  background:#0f172a;
  color:#fff;
}
.wrapper{
  display:flex;
  min-height:100vh;
}
.sidebar{
  width:320px;
  background:#111827;
  padding:20px;
}
.main{
  flex:1;
  padding:25px;
}
@media(max-width:900px){
  .wrapper{flex-direction:column;}
  .sidebar{width:100%;}
}
input, select{
  width:100%;
  padding:10px;
  margin:8px 0;
  border:none;
  border-radius:8px;
  background:#1e293b;
  color:#fff;
}
button{
  width:100%;
  padding:10px;
  border:none;
  border-radius:8px;
  margin-top:10px;
  cursor:pointer;
  background:#2563eb;
  color:#fff;
}
button:hover{background:#1d4ed8;}
.output{
  background:#111827;
  padding:20px;
  border-radius:12px;
  white-space:pre-wrap;
  min-height:300px;
}
.toast{
  position:fixed;
  bottom:30px;
  right:30px;
  background:#16a34a;
  padding:12px 20px;
  border-radius:8px;
  display:none;
}
</style>
</head>
<body>

<div class="wrapper">

<div class="sidebar">

<h3>Post Settings</h3>

<label>Title</label>
<input type="text" id="title">

<label>Episode (Example: 198 OR 33-40 OR 1,2,3)</label>
<input type="text" id="episode">

<label>Quality</label>
<input type="text" id="quality" value="4K">

<label>Subtitle</label>
<input type="text" id="subtitle" value="English">

<h4>Watch Servers</h4>
<select id="watchCount" onchange="generateWatchInputs()">
<option value="1">1 Watch Server</option>
<option value="2">2 Watch Servers</option>
<option value="3">3 Watch Servers</option>
</select>
<div id="watchServers"></div>

<h4>Download Servers (Per Episode)</h4>
<select id="downloadCount" onchange="generateDownloadInputs()">
<option value="0">No Download</option>
<option value="1">1 Download Server</option>
<option value="2">2 Download Servers</option>
</select>
<div id="downloadServers"></div>

<button onclick="generatePost()">Generate</button>
<button onclick="copyPost()">Copy</button>

</div>

<div class="main">
<h2>Live Preview</h2>
<div class="output" id="output"></div>
</div>

</div>

<div class="toast" id="toast">Copied Successfully</div>

<script>

/* Unicode */
function unicodeText(text){
const normal="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
const unicode="ğ– ğ–¡ğ–¢ğ–£ğ–¤ğ–¥ğ–¦ğ–§ğ–¨ğ–©ğ–ªğ–«ğ–¬ğ–­ğ–®ğ–¯ğ–°ğ–±ğ–²ğ–³ğ–´ğ–µğ–¶ğ–·ğ–¸ğ–¹ğ–ºğ–»ğ–¼ğ–½ğ–¾ğ–¿ğ–Œğ–ğ–ğ–ğ–ğ–‘ğ–’ğ–“ğ–”ğ–•ğ––ğ–—ğ–˜ğ–™ğ–šğ–›ğ–œğ–ğ–ğ–Ÿ";
let result="";
for(let i=0;i<text.length;i++){
let index=normal.indexOf(text[i]);
result+= index!==-1 ? unicode[index] : text[i];
}
return result;
}

/* Episode parser */
function parseEpisodes(ep){
if(ep.includes("-")){
let parts=ep.split("-");
let start=parseInt(parts[0]);
let end=parseInt(parts[1]);
let arr=[];
for(let i=start;i<=end;i++){arr.push(i);}
return arr;
}
if(ep.includes(",")){
return ep.split(",").map(e=>e.trim());
}
return [ep];
}

/* Generate Watch Inputs */
function generateWatchInputs(){
let count=document.getElementById("watchCount").value;
let container=document.getElementById("watchServers");
container.innerHTML="";
for(let i=1;i<=count;i++){
container.innerHTML+=`<input type="text" id="watch${i}" placeholder="Watch Server ${i} Link">`;
}
}
generateWatchInputs();

/* Generate Download Inputs */
function generateDownloadInputs(){
let count=document.getElementById("downloadCount").value;
let container=document.getElementById("downloadServers");
container.innerHTML="";
for(let i=1;i<=count;i++){
container.innerHTML+=`<input type="text" id="download${i}" placeholder="Download Server ${i} Base URL (use {ep} for episode)">`;
}
}
generateDownloadInputs();

/* Generate Post */
function generatePost(){
let title=unicodeText(document.getElementById("title").value);
let episodeInput=document.getElementById("episode").value;
let episodes=parseEpisodes(episodeInput);
let quality=document.getElementById("quality").value;
let subtitle=document.getElementById("subtitle").value;

let watchCount=document.getElementById("watchCount").value;
let downloadCount=document.getElementById("downloadCount").value;

let post=`â•­â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â£
â”£âª¼ ğ–³Éªá´›ÊŸá´‡ : ${title}
â”£âª¼ ğ–¤á´˜Éªğ—Œá´á´…á´‡ : ${episodes.join(", ")}
â”£âª¼ ğ–°á´œá´€ÊŸÉªá´›Ê : ${quality}
â”£âª¼ ğ–²á´œÊ™á´›Éªá´›ÊŸá´‡ : ${subtitle}
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â£
`;

post+=`âŸ¢ ğ–¶ğ–ºğ—ğ–¼ğ— ğ–§ğ–¾ğ—‹ğ–¾ âŸ£
`;

for(let i=1;i<=watchCount;i++){
let link=document.getElementById("watch"+i).value;
post+=`â¤ ğ–¶ğ–² ${i} : ${link}\n\n`;
}

if(downloadCount>0){
post+=`âŸ¢ ğ–£ğ—ˆğ—ğ—‡ğ—…ğ—ˆğ–ºğ–½ âŸ£
`;
episodes.forEach(ep=>{
post+=`\nâ¤ ğ–¤ğ—‰ ${ep}\n`;
for(let i=1;i<=downloadCount;i++){
let base=document.getElementById("download"+i).value;
let finalLink=base.replace("{ep}",ep);
post+=`   â¤ ğ–£ğ–² ${i} : ${finalLink}\n`;
}
});
}

document.getElementById("output").textContent=post;
}

/* Copy */
function copyPost(){
let text=document.getElementById("output").textContent;
navigator.clipboard.writeText(text);
let toast=document.getElementById("toast");
toast.style.display="block";
setTimeout(()=>{toast.style.display="none";},2000);
}

</script>

</body>
</html>
